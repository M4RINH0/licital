2023-10-18 14:40:02 [scrapy.utils.log] INFO: Scrapy 2.11.0 started (bot: gazette)
2023-10-18 14:40:02 [scrapy.utils.log] INFO: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.2, Twisted 22.10.0, Python 3.10.12 (main, Jun 11 2023, 05:26:28) [GCC 11.4.0], pyOpenSSL 23.2.0 (OpenSSL 3.1.3 19 Sep 2023), cryptography 41.0.4, Platform Linux-6.2.0-34-generic-x86_64-with-glibc2.35
2023-10-18 14:40:02 [al_associacao_municipios] INFO: Collecting gazettes from 2023-01-06
2023-10-18 14:40:02 [al_associacao_municipios] INFO: Collecting gazettes until 2023-01-12
2023-10-18 14:40:02 [scrapy.addons] INFO: Enabled addons:
[]
2023-10-18 14:40:02 [py.warnings] WARNING: /home/douglas/MDS/2023-2-Squad03/data/qd/.venv/lib/python3.10/site-packages/scrapy/utils/request.py:254: ScrapyDeprecationWarning: '2.6' is a deprecated value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting.

It is also the default value. In other words, it is normal to get this warning if you have not defined a value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting. This is so for backward compatibility reasons, but it will change in a future version of Scrapy.

See the documentation of the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting for information on how to handle this deprecation.
  return cls(crawler)

2023-10-18 14:40:02 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2023-10-18 14:40:02 [scrapy.extensions.telnet] INFO: Telnet Password: 62d2c9cd065e94a9
2023-10-18 14:40:03 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'spidermon.contrib.scrapy.extensions.Spidermon',
 'gazette.extensions.StatsPersist']
2023-10-18 14:40:03 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'gazette',
 'DOWNLOAD_TIMEOUT': 360,
 'FILES_STORE_S3_ACL': 'public-read',
 'NEWSPIDER_MODULE': 'gazette.spiders',
 'SPIDER_MODULES': ['gazette.spiders'],
 'USER_AGENT': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:108.0) '
               'Gecko/20100101 Firefox/108.0'}
2023-10-18 14:40:03 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy_zyte_smartproxy.ZyteSmartProxyMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2023-10-18 14:40:03 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2023-10-18 14:40:03 [scrapy.middleware] INFO: Enabled item pipelines:
['gazette.pipelines.GazetteDateFilteringPipeline',
 'gazette.pipelines.DefaultValuesPipeline',
 'gazette.pipelines.QueridoDiarioFilesPipeline',
 'spidermon.contrib.scrapy.pipelines.ItemValidationPipeline',
 'gazette.pipelines.SQLDatabasePipeline']
2023-10-18 14:40:03 [scrapy.core.engine] INFO: Spider opened
2023-10-18 14:40:03 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2023-10-18 14:40:03 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6023
2023-10-18 14:40:12 [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (301) to <GET http://www.diariomunicipal.com.br/ama/> from <GET https://www.diariomunicipal.com.br/ama>
2023-10-18 14:40:14 [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (301) to <GET https://www.diariomunicipal.com.br/ama/> from <GET http://www.diariomunicipal.com.br/ama/>
2023-10-18 14:40:15 [urllib3.connectionpool] DEBUG: Starting new HTTPS connection (1): publicsuffix.org:443
2023-10-18 14:40:21 [urllib3.connectionpool] DEBUG: https://publicsuffix.org:443 "GET /list/public_suffix_list.dat HTTP/1.1" 200 81964
2023-10-18 14:40:21 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://www.diariomunicipal.com.br/ama/> (referer: None)
2023-10-18 14:40:23 [scrapy.core.engine] DEBUG: Crawled (200) <POST https://www.diariomunicipal.com.br/ama/materia/calendario/extra> (referer: https://www.diariomunicipal.com.br/ama/)
2023-10-18 14:40:23 [al_associacao_municipios] DEBUG: Extra Gazette not available for 2023-01-12
2023-10-18 14:40:24 [scrapy.core.engine] DEBUG: Crawled (200) <POST https://www.diariomunicipal.com.br/ama/materia/calendario/extra> (referer: https://www.diariomunicipal.com.br/ama/)
2023-10-18 14:40:24 [al_associacao_municipios] DEBUG: Extra Gazette not available for 2023-01-08
2023-10-18 14:40:24 [scrapy.core.engine] DEBUG: Crawled (200) <POST https://www.diariomunicipal.com.br/ama/materia/calendario> (referer: https://www.diariomunicipal.com.br/ama/)
2023-10-18 14:40:25 [al_associacao_municipios] DEBUG: Regular Gazette not available for 2023-01-08
2023-10-18 14:40:25 [scrapy.core.engine] DEBUG: Crawled (200) <POST https://www.diariomunicipal.com.br/ama/materia/calendario/extra> (referer: https://www.diariomunicipal.com.br/ama/)
2023-10-18 14:40:26 [al_associacao_municipios] DEBUG: Extra Gazette not available for 2023-01-07
2023-10-18 14:40:26 [scrapy.core.engine] DEBUG: Crawled (200) <POST https://www.diariomunicipal.com.br/ama/materia/calendario> (referer: https://www.diariomunicipal.com.br/ama/)
2023-10-18 14:40:26 [scrapy.core.engine] DEBUG: Crawled (200) <POST https://www.diariomunicipal.com.br/ama/materia/calendario> (referer: https://www.diariomunicipal.com.br/ama/)
2023-10-18 14:40:26 [scrapy.core.engine] DEBUG: Crawled (200) <POST https://www.diariomunicipal.com.br/ama/materia/calendario/extra> (referer: https://www.diariomunicipal.com.br/ama/)
2023-10-18 14:40:26 [scrapy.core.engine] DEBUG: Crawled (200) <POST https://www.diariomunicipal.com.br/ama/materia/calendario> (referer: https://www.diariomunicipal.com.br/ama/)
2023-10-18 14:40:26 [scrapy.core.engine] DEBUG: Crawled (200) <POST https://www.diariomunicipal.com.br/ama/materia/calendario/extra> (referer: https://www.diariomunicipal.com.br/ama/)
2023-10-18 14:40:26 [scrapy.core.engine] DEBUG: Crawled (200) <POST https://www.diariomunicipal.com.br/ama/materia/calendario/extra> (referer: https://www.diariomunicipal.com.br/ama/)
2023-10-18 14:40:26 [al_associacao_municipios] DEBUG: Extra Gazette not available for 2023-01-11
2023-10-18 14:40:26 [al_associacao_municipios] DEBUG: Extra Gazette not available for 2023-01-10
2023-10-18 14:40:26 [al_associacao_municipios] DEBUG: Extra Gazette not available for 2023-01-09
2023-10-18 14:40:26 [scrapy.core.engine] DEBUG: Crawled (200) <POST https://www.diariomunicipal.com.br/ama/materia/calendario> (referer: https://www.diariomunicipal.com.br/ama/)
2023-10-18 14:40:26 [scrapy.core.engine] DEBUG: Crawled (200) <POST https://www.diariomunicipal.com.br/ama/materia/calendario> (referer: https://www.diariomunicipal.com.br/ama/)
2023-10-18 14:40:26 [al_associacao_municipios] DEBUG: Regular Gazette not available for 2023-01-07
2023-10-18 14:40:26 [scrapy.core.engine] DEBUG: Crawled (200) <POST https://www.diariomunicipal.com.br/ama/materia/calendario/extra> (referer: https://www.diariomunicipal.com.br/ama/)
2023-10-18 14:40:26 [al_associacao_municipios] DEBUG: Extra Gazette not available for 2023-01-06
2023-10-18 14:40:27 [scrapy.core.engine] DEBUG: Crawled (200) <POST https://www.diariomunicipal.com.br/ama/materia/calendario> (referer: https://www.diariomunicipal.com.br/ama/)
2023-10-18 14:40:30 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91095_2023-01-06_b8092b679b2f2030df87bcf7372bb8ab.pdf> (referer: None)
2023-10-18 14:40:30 [scrapy.pipelines.files] DEBUG: File (downloaded): Downloaded file from <GET https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91095_2023-01-06_b8092b679b2f2030df87bcf7372bb8ab.pdf> referred in <None>
2023-10-18 14:40:30 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91096_2023-01-09_8c8648ecb9bebcaf54fbb3716dac4a0e.pdf> (referer: None)
2023-10-18 14:40:30 [scrapy.pipelines.files] DEBUG: File (downloaded): Downloaded file from <GET https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91096_2023-01-09_8c8648ecb9bebcaf54fbb3716dac4a0e.pdf> referred in <None>
2023-10-18 14:40:30 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91094_2023-01-05_38a1ba64124c8539a51ece2df33d5cae.pdf> (referer: None)
2023-10-18 14:40:30 [scrapy.pipelines.files] DEBUG: File (downloaded): Downloaded file from <GET https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91094_2023-01-05_38a1ba64124c8539a51ece2df33d5cae.pdf> referred in <None>
2023-10-18 14:40:30 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91098_2023-01-11_31d6b9eaceaa5dac3b5711ec337bc0d2.pdf> (referer: None)
2023-10-18 14:40:30 [scrapy.pipelines.files] DEBUG: File (downloaded): Downloaded file from <GET https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91098_2023-01-11_31d6b9eaceaa5dac3b5711ec337bc0d2.pdf> referred in <None>
2023-10-18 14:40:31 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.diariomunicipal.com.br/ama/materia/calendario>
{'date': '2023-01-09',
 'edition_number': '1960',
 'file_urls': ['https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91095_2023-01-06_b8092b679b2f2030df87bcf7372bb8ab.pdf'],
 'files': [{'checksum': '09a077bc98d89715568493aa040c3797',
            'path': '2700000/2023-01-09/17802c3753b951a14e0658484de0603892f6196c.pdf',
            'status': 'downloaded',
            'url': 'https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91095_2023-01-06_b8092b679b2f2030df87bcf7372bb8ab.pdf'}],
 'is_extra_edition': False,
 'power': 'executive_legislative',
 'scraped_at': '2023-10-18T17:40:26.220406Z',
 'territory_id': '2700000'}
2023-10-18 14:40:31 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.diariomunicipal.com.br/ama/materia/calendario>
{'date': '2023-01-10',
 'edition_number': '1961',
 'file_urls': ['https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91096_2023-01-09_8c8648ecb9bebcaf54fbb3716dac4a0e.pdf'],
 'files': [{'checksum': 'cc922c449d537cf4bbc4f32aa0d40a00',
            'path': '2700000/2023-01-10/2af6d49513331b1e080878fe7952ab650fa5cde4.pdf',
            'status': 'downloaded',
            'url': 'https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91096_2023-01-09_8c8648ecb9bebcaf54fbb3716dac4a0e.pdf'}],
 'is_extra_edition': False,
 'power': 'executive_legislative',
 'scraped_at': '2023-10-18T17:40:26.498295Z',
 'territory_id': '2700000'}
2023-10-18 14:40:31 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.diariomunicipal.com.br/ama/materia/calendario>
{'date': '2023-01-06',
 'edition_number': '1959',
 'file_urls': ['https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91094_2023-01-05_38a1ba64124c8539a51ece2df33d5cae.pdf'],
 'files': [{'checksum': 'e2534c2fc690bd815e64cdc9ccc12c3f',
            'path': '2700000/2023-01-06/fdc81a70860c2c3aae3aa50b6c86f48c6d4d5b0e.pdf',
            'status': 'downloaded',
            'url': 'https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91094_2023-01-05_38a1ba64124c8539a51ece2df33d5cae.pdf'}],
 'is_extra_edition': False,
 'power': 'executive_legislative',
 'scraped_at': '2023-10-18T17:40:27.219036Z',
 'territory_id': '2700000'}
2023-10-18 14:40:31 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.diariomunicipal.com.br/ama/materia/calendario>
{'date': '2023-01-12',
 'edition_number': '1963',
 'file_urls': ['https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91098_2023-01-11_31d6b9eaceaa5dac3b5711ec337bc0d2.pdf'],
 'files': [{'checksum': '4b0158aff79cad9f2693eb9e6391b9c3',
            'path': '2700000/2023-01-12/19b6d9d7ce6052f2d28ecb46ff73e80f10cc7008.pdf',
            'status': 'downloaded',
            'url': 'https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91098_2023-01-11_31d6b9eaceaa5dac3b5711ec337bc0d2.pdf'}],
 'is_extra_edition': False,
 'power': 'executive_legislative',
 'scraped_at': '2023-10-18T17:40:26.348534Z',
 'territory_id': '2700000'}
2023-10-18 14:41:03 [scrapy.extensions.logstats] INFO: Crawled 19 pages (at 19 pages/min), scraped 4 items (at 4 items/min)
2023-10-18 14:41:35 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91097_2023-01-10_ba74407fb310f3ff495f9d4308f70d24.pdf> (referer: None)
2023-10-18 14:41:35 [scrapy.pipelines.files] DEBUG: File (downloaded): Downloaded file from <GET https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91097_2023-01-10_ba74407fb310f3ff495f9d4308f70d24.pdf> referred in <None>
2023-10-18 14:41:36 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.diariomunicipal.com.br/ama/materia/calendario>
{'date': '2023-01-11',
 'edition_number': '1962',
 'file_urls': ['https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91097_2023-01-10_ba74407fb310f3ff495f9d4308f70d24.pdf'],
 'files': [{'checksum': 'e20a7c4c20e3a93104ef56479221acce',
            'path': '2700000/2023-01-11/3d0f68e0eef8572c8f564ec15d843161e598f0eb.pdf',
            'status': 'downloaded',
            'url': 'https://www-storage.voxtecnologia.com.br?m=sigpub.publicacao&f=9878&i=publicado_91097_2023-01-10_ba74407fb310f3ff495f9d4308f70d24.pdf'}],
 'is_extra_edition': False,
 'power': 'executive_legislative',
 'scraped_at': '2023-10-18T17:40:26.703909Z',
 'territory_id': '2700000'}
2023-10-18 14:41:36 [scrapy.core.engine] INFO: Closing spider (finished)
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] ------------------------------ MONITORS ------------------------------
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] Comparison Between Executions/Days without gazettes... OK
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] Requests/Items Ratio/Ratio of requests over items scraped count... OK
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] Error Count Monitor/test_stat_monitor... SKIPPED (Unable to find 'log_count/ERROR' in job stats.)
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] Finish Reason Monitor/Should have the expected finished reason(s)... OK
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] Item Validation Monitor/test_stat_monitor... SKIPPED (Unable to find 'spidermon/validation/fields/errors' in job stats.)
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] ----------------------------------------------------------------------
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] 5 monitors in 0.003s
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] OK (skipped=2)
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] -------------------------- FINISHED ACTIONS --------------------------
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] ----------------------------------------------------------------------
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] 0 actions in 0.000s
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] OK
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] --------------------------- PASSED ACTIONS ---------------------------
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] ----------------------------------------------------------------------
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] 0 actions in 0.000s
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] OK
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] --------------------------- FAILED ACTIONS ---------------------------
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] ----------------------------------------------------------------------
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] 1 action in 0.000s
2023-10-18 14:41:36 [al_associacao_municipios] INFO: [Spidermon] OK (skipped=1)
2023-10-18 14:41:36 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 10708,
 'downloader/request_count': 22,
 'downloader/request_method_count/GET': 8,
 'downloader/request_method_count/POST': 14,
 'downloader/response_bytes': 12369681,
 'downloader/response_count': 22,
 'downloader/response_status_count/200': 20,
 'downloader/response_status_count/301': 2,
 'elapsed_time_seconds': 93.216443,
 'file_count': 5,
 'file_status_count/downloaded': 5,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2023, 10, 18, 17, 41, 36, 425146, tzinfo=datetime.timezone.utc),
 'httpcompression/response_bytes': 50294,
 'httpcompression/response_count': 15,
 'item_scraped_count': 5,
 'log_count/DEBUG': 44,
 'log_count/INFO': 32,
 'log_count/WARNING': 1,
 'memusage/max': 134922240,
 'memusage/startup': 110034944,
 'request_depth_max': 1,
 'response_received_count': 20,
 'scheduler/dequeued': 17,
 'scheduler/dequeued/memory': 17,
 'scheduler/enqueued': 17,
 'scheduler/enqueued/memory': 17,
 'spidermon/validation/fields': 40,
 'spidermon/validation/items': 5,
 'spidermon/validation/validators': 1,
 'spidermon/validation/validators/item/jsonschema': True,
 'start_time': datetime.datetime(2023, 10, 18, 17, 40, 3, 208703, tzinfo=datetime.timezone.utc)}
2023-10-18 14:41:36 [scrapy.core.engine] INFO: Spider closed (finished)
